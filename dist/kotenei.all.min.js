define("kotenei/dragdrop",["jquery"],function(t){var e=function(e){this.options=t.extend({},{$layer:null,$handle:null,$range:null,direction:"",callback:{start:t.noop,move:t.noop,stop:t.noop}},e),this.$layer=e.$layer,this.$handle=e.$handle,this.$range=e.$range,this.$window=t(window),this.$document=t(document),this.moving=!1,this.offset={x:0,y:0},this.originalCoord={x:0,y:0},this.init()};return e.prototype.init=function(){this.$layer&&(this.$range&&this.$range.css("position","relative"),this.$handle=this.$handle||this.$layer,this.$layer.css({cursor:"move",position:"absolute"}),this.eventBind())},e.prototype.eventBind=function(){var t=this;this.$handle.on("mousedown",function(e){e.stopPropagation(),e.preventDefault(),t.start(e),document.onselectstart=function(){return!1}})},e.prototype.start=function(e){var i=this;this.$document.on("mousemove",function(t){i.isMoving&&i.move(t)}).on("mouseup",function(e){i.stop(e),t(this).off()});var n=this.getMouseCoord(e);return this.offset.x=n.x-this.$layer.position().left,this.offset.y=n.y-this.$layer.position().top,this.originalCoord.x=n.x,this.originalCoord.y=n.y,this.$handle[0].setCapture&&this.$handle[0].setCapture(),this.isMoving=!0,t.isFunction(this.options.callback.start)&&this.options.callback.start(e,this.$layer),!1},e.prototype.move=function(e){var i,n,o=this.getMouseCoord(e),s={x:o.x-this.offset.x,y:o.y-this.offset.y},r=this.$range;r?(i=r.width()-this.$layer.outerWidth(!0),n=r.height()-this.$layer.outerHeight(!0),s.x<0&&(s.x=0),s.y<0&&(s.y=0),s.x>i&&(s.x=i),s.y>n&&(s.y=n)):(i=this.$window.width()-this.$layer.outerWidth()+this.$document.scrollLeft(),n=this.$window.height()-this.$layer.outerHeight()+this.$document.scrollTop(),s.x<0&&(s.x=0),s.y<0&&(s.y=0),s.x>i&&(s.x=i),s.y>n&&(s.y=n)),this.setPosition(s),t.isFunction(this.options.callback.move)&&this.options.callback.move(s)},e.prototype.stop=function(e){this.isMoving=!1,this.$handle[0].releaseCapture&&this.$handle[0].releaseCapture(),t.isFunction(this.options.callback.stop)&&this.options.callback.stop(e,this.$layer)},e.prototype.getMouseCoord=function(t){return{x:t.pageX||t.clientX+document.body.scrollLeft-document.body.clientLeft,y:t.pageY||t.clientY+document.body.scrollTop-document.body.clientTop}},e.prototype.setPosition=function(t){"h"===this.options.direction?this.$layer.css("left",t.x):"v"===this.options.direction?this.$layer.css("top",t.y):this.$layer.css({left:t.x,top:t.y})},e}),define("kotenei/dropdown",["jquery"],function(t){var e=t("body"),i=t(document),n=0,o=function(e,i){this.$soure=e,this.setting=t.extend({width:e.width(),height:e.height()},i||{}),e.data("widget",this),n++,this.id=n,this.nameSpace="dropdown_"+String(this.id),this.initDom()};return o.prototype.initDom=function(){var e=this.$soure.parent();this.$soure.css({visibility:"hidden"}),"static"===e.css("position")&&e.css({visibility:"relative"});var i=1;"auto"===this.$soure.css("zIndex")?this.$soure.css("zIndex",1):i=Number(this.$soure.css("zIndex")),this.$el=t('<div class="widget-dropbox"/>').css({width:this.setting.width,height:this.setting.height,zIndex:i+1}),this.$label=t('<div class="label"/>').css({width:this.setting.width-this.setting.height,height:this.setting.height,lineHeight:String(this.setting.height-4)+"px"}).appendTo(this.$el),this.$icon=t('<div class="ic">&#9660;</div>').css({width:this.setting.height,height:this.setting.height,lineHeight:String(this.setting.height)+"px"}).appendTo(this.$el),this.buildDrop(),this.$el.insertBefore(this.$soure),this.watch()},o.prototype.syncPosition=function(){this.$el.css(this.$soure.position())},o.prototype.setLabel=function(t){this.$label.text(t).attr("title",t)},o.prototype.getVal=function(){return this.$soure.val()},o.prototype.setVal=function(t){this.$soure.val(t).change()},o.prototype.buildDrop=function(){this.$drop&&this.$drop.remove(),this.$drop=t('<div class="widget-dropbox-drop"/>').css({width:this.setting.width}).hide();var i=[];this.$soure.find("option").each(function(){var e=t(this);i.push('<li data-val="'+e.val()+'">'+e.text()+"</li>")});var n=t("<ul>"+i.join("")+"</ul>");n.appendTo(this.$drop),this.$drop.appendTo(e),this.syncPosition(),this.sync()},o.prototype.sync=function(){var t=this.$soure.find("option:selected").text();if(!t){var e=this.$soure.find("option").eq(0);t=e.text(),this.setVal(e.val())}this.setLabel(t)},o.prototype.showDrop=function(){var e=this,n=e.$el.offset();e.$el.addClass("widget-dropbox-hover"),e.$drop.css({top:n.top+e.setting.height+2,left:n.left}).show(),i.on("click."+e.nameSpace,function(i){i.target!==e.$label[0]&&i.target!==e.$icon[0]&&i.target!==e.$drop[0]&&!1===t.contains(e.$drop[0],i.target)&&e.hideDrop()})},o.prototype.hideDrop=function(){var t=this;t.$drop.hide(),t.$el.removeClass("widget-dropbox-hover"),i.off("click."+t.nameSpace)},o.prototype.watch=function(){var e=this;this.$el.on("click",function(){e.showDrop()}),this.$drop.on("click","li",function(){var i=t(this);return e.setVal(i.data("val")),e.sync(),e.hideDrop(),!1})},o.prototype.reload=function(){this.buildDrop()},o}),define("kotenei/lazyload",["jquery"],function(t){function e(e,i){this.$elements=e,this.options=t.extend({},{placeholder:null,$container:t(window),callback:t.noop},i),this.cache=[],this.init()}return e.prototype.init=function(){var e=this;this.$elements.each(function(){if("img"==this.nodeName.toLowerCase()){var i=t(this),n={};null!=e.options.placeholder&&(this.setAttribute("data-url",this.src),this.src=e.options.placeholder),this.getAttribute("data-url")&&(n.$elm=i,n.url=this.getAttribute("data-url"),e.cache.push(n))}}),0!==this.cache.length&&(this.count=this.cache.length,this.eventBind(),this.load())},e.prototype.eventBind=function(){this.options.$container.on("scroll.lazyload",t.proxy(this.load,this))},e.prototype.load=function(){var e=this,i=this.getPosition();this.count<=0||t.each(this.cache,function(t,n){{var o,s,r=n.$elm,a=n.url;n.tag}r&&(s=r.offset().top,o=[s-i.top,s-i.top+r.height()],(o[0]>=0&&o[0]<i.height||o[1]>0&&o[1]<=i.height)&&(!function(t,i){e.imgLoad(t,i,function(){t.hide().fadeIn(),e.callback(t)})}(r,a),n.$elm=null,e.count--))})},e.prototype.imgLoad=function(t,e,i){var n=new Image;n.onload=function(){t.attr("src",e),i()},n.onerror=function(){i()},n.src=e},e.prototype.getPosition=function(){var t,e={},i=this.options.$container,n=i.height();return t=i[0]===window?i.scrollTop():i.offset().top,e.height=n,e.top=t,e},e.prototype.callback=function(e){t.isFunction(this.options.callback)&&this.options.callback(e)},function(i,n){return i=i||t("img"),new e(i,n)}}),define("kotenei/pager",["jquery"],function(t){var e=function(e,i){this.$element=e,this.options=t.extend({},{className:"pagination",onclick:t.noop},i),this.curPage=1,this.totalCount=0,this.pageSize=10,this.template='<div class="pager-box"></div>'};return e.prototype.init=function(){if(0!==this.totalCount){var e=this;this.$pager=t(this.template).append(this.build()).appendTo(this.$element),this.$pager.on("click","li",function(){var i=t(this),n=i.attr("data-page");i.hasClass("disabled")||i.hasClass("active")||(e.curPage=parseInt(n),e.$pager.html(e.build()),e.options.onclick(e.curPage))})}},e.prototype.build=function(){var t,e=this.getInfo(),i=[];i.push('<ul class="'+this.options.className+'">'),t=this.curPage>1?"":"disabled",i.push('<li class="'+t+'" data-page="'+e.pre+'" ><a href="javascript:void(0);">«</a></li>');for(var n=e.start;n<=e.end;n++)t=n===this.curPage?"active":"",i.push('<li class="'+t+'" data-page="'+n+'" ><a href="javascript:void(0);">'+n+"</a></li>");return t=this.curPage!==e.allPage?"":"disabled",i.push('<li class="'+t+'" data-page="'+e.next+'" ><a href="javascript:void(0);">»</a></li>'),i.push("</ul>"),i.join("")},e.prototype.getInfo=function(){var t,e,i,n,o;return o=parseInt(this.totalCount/this.pageSize),o=this.totalCount%this.pageSize!==0?o+1:o,o=0===o?1:o,t=this.curPage+2>o?o-4:this.curPage-2,e=this.curPage<4?5:this.curPage+2,1>t&&(t=1),e>o&&(e=o),i=this.curPage-1<1?1:this.curPage-1,n=this.curPage+1>o?o:this.curPage+1,{start:t,end:e,pre:i,next:n,allPage:o}},e}),define("kotenei/placeholder",["jquery"],function(t){function e(e){e.each(function(){var e=t(this),n=e.data("placeholder");if(void 0===n){var o=t.trim(e.attr("placeholder"));if(!o||0===o.length)return;n=new i(e),e.data("placeholder",n)}else n.setPosition()})}var i=function(t){this.$elm=t,this.type="placeholder",this.init()};return i.prototype.init=function(){var e=t.trim(this.$elm.attr("placeholder"));this.timer=this.$elm.attr("data-timer"),this.timer&&(this.timer=JSON.stringify(this.timer)),this.$placeholder=t("<div/>").addClass("placeholder").text(e).insertAfter(this.$elm).hide(),this.$elm.parent().css("position","relative"),this.setPosition(),this.eventBind()},i.prototype.eventBind=function(){var e=this;this.timer&&setInterval(function(){e.setPosition()},this.timer.delay),this.$elm.on("focus."+this.type,function(){e.$placeholder.hide()}).on("blur."+this.type,function(){var i=t.trim(e.$elm.val());0===i.length||i===e.text?(e.$elm.val(""),e.$placeholder.show()):e.$placeholder.hide()}),this.$placeholder.on("focus."+this.type,function(){e.$elm.focus()})},i.prototype.display=function(){var e=t.trim(this.$elm.val());0===e.length||e===t.trim(this.$elm.attr("placeholder"))?this.$placeholder.show():this.$placeholder.hide()},i.prototype.setPosition=function(){var t=this;setTimeout(function(){var e={left:t.$elm[0].offsetLeft,top:t.$elm[0].offsetTop,height:t.$elm.outerHeight(),width:t.$elm.outerWidth(),position:"absolute",paddingLeft:"10px",paddingRight:"10px",paddingTop:0,margin:0,lineHeight:t.$elm.outerHeight()+"px",cursor:"text",color:"#999"};"textarea"===t.$elm[0].nodeName.toLowerCase()&&(e.lineHeight="auto",e.paddingTop=5),t.$placeholder.css(e),t.display()},50)},function(i){"placeholder"in document.createElement("input")||(i=i||t("input,textarea"),e(i))}}),define("kotenei/popTips",["jquery"],function(t){var e=function(){function e(){function e(e,s,r,a){o&&clearTimeout(o),t.isFunction(r)&&(a=r,r=3e3),a=a||t.noop,r=r||3e3,n&&n.stop().remove(),n=t(i(e,s)).appendTo(document.body),n.css({marginLeft:-(n.width()/2),marginTop:-(n.height()/2)}).fadeIn("fase",function(){o=setTimeout(function(){n.stop().remove(),a()},r)})}function i(t,e){var i=[];switch(t){case"success":i.push('<div class="pop-tips success"><span class="fa fa-check"></span>&nbsp;<span>'+e+"</span></div>");break;case"error":i.push('<div class="pop-tips error"><span class="fa fa-close"></span>&nbsp;<span>'+e+"</span></div>");break;case"warning":i.push('<div class="pop-tips warning"><span class="fa fa-exclamation"></span>&nbsp;<span>'+e+"</span></div>")}return i.join("")}var n,o;return{success:function(t,i,n){e("success",t,i,n)},error:function(t,i,n){e("error",t,i,n)},warning:function(t,i,n){e("warning",t,i,n)}}}var i;return{getInstance:function(){return i||(i=e()),i}}}();return e.getInstance()}),function(t){var e={addEventListener:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},removeEventListener:function(t,e){t.removeEventListener?t.removeEventListener(e,handler,!1):t.detachEvent?t.detachEvent("on"+e,handler):t["on"+e]=null},proxy:function(t,e){var i=function(){return t.apply(e||this,arguments)};return i}},i=function(){this._routes=[]};i.prototype.init=function(){var i=this;e.addEventListener(t,"hashchange",e.proxy(i.listener,this)),this.listener()},i.prototype.listener=function(){var t,e=location.hash.slice(1),i=this.getRoute(e);return i?(t=this.getValues(e,i),void i.handle.apply(i,t)):void location.replace("#/")},i.prototype.map=function(t,e,i){var n,o,s,r=[];if(o=t.replace(/\//g,"\\/"),"function"==typeof e&&(i=e,e=null),e)for(var a in e)n=new RegExp("\\{"+a+"\\}","g"),o=o.replace(n,"("+e[a].replace(/\^/,"").replace(/\$/,"")+")"),r.push(a);for(n=new RegExp("{([^}]+)}","g");null!=(s=n.exec(o));)r.push(s[1]),n.lastIndex;return o="^"+o.replace(/{[^}]+}/gi,"(.+)")+"$",this._routes.push({routeUrl:t,pattern:o,params:r,handle:i||function(){}}),this},i.prototype.getValues=function(t,e){var e,i=[];if(0===t.length)return i;if(e=e||this.getRoute(t),null!=e){var n=t.match(e.pattern);if(0!=n.length)for(var o=1;o<n.length;o++)i.push(n[o])}return i},i.prototype.getRoute=function(t){for(var e=0;e<this._routes.length;e++)if(new RegExp(this._routes[e].pattern).test(t))return this._routes[e];return null},"function"==typeof t.define&&define.amd?define("kotenei/router",[],function(){return i}):t.Router=i}(window),define("kotenei/slider",["jquery","kotenei/dragdrop"],function(t,e){var i=function(e,i){this.$element=e,this.options=t.extend({},{min:1,max:10,step:1,value:1,$bindElement:t([]),callback:{slide:t.noop}},i),this.template='<div class="slider"><div class="slider-selection"></div><div class="slider-handle"></div></div>',this.min=this.options.min,this.max=this.options.max,this.step=this.options.step,this.diff=this.max-this.min,this.init()};return i.prototype.init=function(){var i=this;this.$slider=t(this.template).appendTo(this.$element),this.$sliderSelection=this.$slider.find("div.slider-selection"),this.$sliderHandle=this.$slider.find("div.slider-handle"),this.handleWidth=this.$sliderHandle.width(),this.sliderWidth=this.$slider.outerWidth(),this.$bindElement=this.options.$bindElement,this.dragdrop=new e({$range:this.$slider,$layer:this.$slider.find(".slider-handle"),direction:"h",callback:{move:function(t){var e=i.getMoveValue(t);i.setValue(e),i.options.callback.slide(e)}}}),this.eventBind(),this.setValue(this.options.value)},i.prototype.eventBind=function(){if(this.allowElement()){var e=this.$bindElement[0].type,i=this;-1!==e.indexOf("select")?this.$bindElement.on("change",function(){var e=t(this),n=t.trim(i.getFilterValue(e.val()));i.setValue(n)}):this.$bindElement.on("keyup",function(e){var n=t(this),o=t.trim(i.getFilterValue(n.val()));13===e.keyCode&&i.setValue(o)})}},i.prototype.allowElement=function(){if(0===this.$bindElement.length)return!1;var t=this.$bindElement[0].type;return"text"!==t&&"textarea"!==t&&-1===t.indexOf("select")?!1:!0},i.prototype.getFilterValue=function(t){return t||(t=this.min),isNaN(t)&&(t=this.min),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t},i.prototype.setValue=function(t){t>this.max&&(t=this.max),t<this.min&&(t=this.min);var e=(t-this.min)/this.diff*100;this.setPercent(e),this.setElementValue(t)},i.prototype.setElementValue=function(t){if(this.allowElement()){var e=this.$bindElement[0].type;-1!=e.indexOf("select")?this.$bindElement.find("option[value='"+t+"']").prop("selected",!0):this.$bindElement.val(t)}},i.prototype.getMoveValue=function(t){var e=t.x/(this.sliderWidth-this.handleWidth)*100,i=Math.round(e/100*this.diff/this.step)*this.step+this.min;return i=i>this.max?this.max:i},i.prototype.setPercent=function(t){this.$sliderSelection.width(t+"%"),this.$sliderHandle.css("left",t+"%")},i}),define("kotenei/switch",["jquery"],function(t){var e=function(e,i){this.$element=e,this.options=t.extend({},{values:{on:{text:"on",value:"1",className:""},off:{text:"off",value:"0",className:""}},callback:{onclick:t.noop}},i),this.template='<div class="switch"></div>',this.init()};return e.prototype.init=function(){"checkbox"===this.$element[0].type&&(this.$switch=t(this.template).append(this.build()).insertAfter(this.$element),this.$switchScroller=this.$switch.find(".switch-scroller"),this.$element.hide(),this.checked="checked"===this.$element.attr("checked"),this.disabled="disabled"===this.$element.attr("disabled"),this.moveLeft=this.$switch.find(".switch-left").width(),this.checked?this.on():this.off(),this.disabled&&this.$switch.addClass("disabled"),this.$switch.on("click",t.proxy(this.toggle,this)))},e.prototype.build=function(){var t=[],e=this.options.values;return t.push('<div class="switch-scroller">'),t.push('<span class="switch-left" >'+e.on.text+"</span>"),t.push('<span class="switch-middle"></span>'),t.push('<span class="switch-right">'+e.off.text+"</span>"),t.push("</div>"),t.join("")},e.prototype.toggle=function(){this.disabled||(this.checked?(this.checked=!1,this.off()):(this.checked=!0,this.on()),this.options.callback.onclick(this.get()))},e.prototype.on=function(){this.disabled||(this.$element.prop("checked",!0),this.$switchScroller.stop().animate({left:0},300))},e.prototype.off=function(){this.disabled||(this.$element.prop("checked",!1),this.$switchScroller.stop().animate({left:-this.moveLeft},300))},e.prototype.get=function(){var t=this.options.values;return this.checked?t.on.value:t.off.value},e.prototype.destroy=function(){this.$switch.off("click"),this.$element.show(),this.$switch.remove()},e}),define("kotenei/tooltips",["jquery"],function(t){function e(e,i){this.$element=e,this.options=t.extend({},{delay:0,content:"",tipClass:"",placement:"right",trigger:"hover click",container:document.body},i),this.init()}return e.prototype.init=function(){this.$tips=t('<div class="tooltips"><div class="tooltips-arrow"></div><div class="tooltips-title"></div><div class="tooltips-inner"></div></div>'),this.$tips.addClass(this.options.placement).addClass(this.options.tipClass),this.setContent(),this.isShow=!1;for(var e,i=this.options.trigger.split(" "),n=0;n<i.length;n++)if(e=i[n],"click"===e)this.$element.on(e+".tooltips",t.proxy(this.toggle,this));else if("manual"!=e){var o="hover"===e?"mouseenter":"focus",s="hover"===e?"mouseleave":"blur";this.$element.on(o,t.proxy(this.show,this)),this.$element.on(s,t.proxy(this.hide,this))}this.options.container?this.$tips.appendTo(this.options.container):this.$tips.insertAfter(this.$element),this.hide()},e.prototype.setContent=function(e){e=t.trim(e||this.options.content),0===e.length&&(e=this.$element.attr("data-content")||"");var i=this.$tips;i.find(".tooltips-inner").html(e)},e.prototype.setPosition=function(){var t=this.getOffset();this.$tips.css(t)},e.prototype.getOffset=function(){var t=this.options.placement,e=(this.options.container,this.$element),i=this.$tips,n=e.offset(),o=e.outerWidth(),s=e.outerHeight(),r=i.outerWidth(),a=i.outerHeight();switch(t){case"left":return{top:n.top+s/2-a/2,left:n.left-r};case"top":return{top:n.top-a,left:n.left+o/2-r/2};case"right":return{top:n.top+s/2-a/2,left:n.left+o};case"bottom":return{top:n.top+s,left:n.left+o/2-r/2}}},e.prototype.show=function(){return 0===t.trim(this.options.content).length?void this.hide():(this.isShow=!0,this.setPosition(),void this.$tips.show().addClass("in"))},e.prototype.hide=function(){this.isShow=!1,this.$tips.hide().removeClass("in")},e.prototype.toggle=function(){this.isShow?this.hide():this.show()},e.Global=function(i){var i=i||t('[data-module="tooltips"]');i.each(function(){var i=t(this),n=e.Get(i);n||(n=new e(i,{title:i.attr("data-title"),content:i.attr("data-content"),placement:i.attr("data-placement"),tipClass:i.attr("data-tipClass"),trigger:i.attr("data-trigger")}),e.Set(i,n))})},e.Get=function(t){return t.data("tooltips")},e.Set=function(t,e){t.data("tooltips",e)},e}),define("kotenei/validate",["jquery"],function(t){function e(i,n){this.$form=i,this.options=t.extend({},e.DEFAULTS,n),this.rules=this.options.rules,this.messages=this.options.messages,this.init()}return e.DEFAULTS={errorClass:"error",errorElement:"label",rules:{},messages:{},focusClear:!0,keyupClear:!0,errorPlacement:null},e.prototype.init=function(){this.getValidFields(),0!==this.validFields.count&&this.eventBind()},e.prototype.getValidFields=function(){this.validFields={data:{},count:0};{var e=this;this.$form.find("input,select,textarea").filter(function(){return this.name in e.rules?!0:!1}).each(function(){e.validFields.data[this.name]||(e.validFields.data[this.name]=t(this),e.validFields.count++)})}},e.prototype.eventBind=function(){var t=this;this.$form.on("submit",function(e){return t.validateFrom(e)}).on("focus blur keyup",':text, [type="password"], [type="file"], select, textarea, [type="number"], [type="search"] ,[type="tel"], [type="url"], [type="email"], [type="datetime"], [type="date"], [type="month"], [type="week"], [type="time"], [type="datetime-local"], [type="range"], [type="color"]',function(e){t.validate(e)}).on("click",'[type="radio"], [type="checkbox"], select, option',function(e){t.validate(e)})},e.prototype.validate=function(e){var i,n,o=e.target,s=t(o),r=this.rules[o.name];if(this.options.focusClear&&"focusin"===e.type||this.options.keyupClear&&"keyup"===e.type)return void this.hideError(s);if(r){n=this.elementValue(s);for(var a in r){var h={method:a,parameters:r[a]};if(i=this.methods[a].call(this,n,s,h.parameters),!i)return this.formatAndAdd(o,h),!1;this.hideError(s)}return!0}},e.prototype.validateFrom=function(){var t=this,e=!0;for(var i in this.validFields.data)t.validate({target:this.validFields.data[i][0]})||(e=!1);return e},e.prototype.valid=function(){return this.validateFrom()},e.prototype.checkable=function(t){return/radio|checkbox/i.test(t.type)},e.prototype.formatAndAdd=function(e,i){var n=t(e),o=this.defaultMessage(e,i.method);o=this.format(o,i.parameters),this.showError(n,o)},e.prototype.showError=function(e,i){this.checkable(e[0])&&(e=this.validFields.data[e[0].name]);var n=e.data("error");n||(n=t("<"+this.options.errorElement+">").addClass(this.options.errorClass),e.data("error",n)),n.html(i).show(),e.addClass(this.options.errorClass),t.isFunction(this.options.errorPlacement)?this.options.errorPlacement(e,n):n.insertAfter(e)},e.prototype.hideError=function(e){this.checkable(e[0])&&(e=this.validFields.data[e[0].name]);var i=e.data("error");e.removeClass(this.options.errorClass),t.isFunction(this.options.errorPlacement)&&this.options.errorPlacement(e,t([])),i&&i.hide()},e.prototype.defaultMessage=function(t,e){return this.messages[t.name]||(this.messages[t.name]={},this.messages[t.name][e]=this.errorMessages[e]),this.messages[t.name][e]||(this.messages[t.name][e]=this.errorMessages[e]),this.messages[t.name][e]},e.prototype.format=function(e,i){return-1!=e.indexOf("{0}")&&(i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})})),e},e.prototype.errorMessages={required:"该字段不能为空",email:"电子邮箱格式错误",url:"url格式错误",date:"请输入一个有效日期",dateISO:"请输入一个有效日期（ISO）",mobile:"手机号码格式错误",phone:"电话号码格式错误",number:"请输入一个有效的数字",digits:"请输入正整数",minLength:"请输入一个长度不小于{0}个字符的值",maxLength:"请输入一个长度不大于{0}个字符的值",rangeLength:"请输入一个长度介于{0}到{1}个字符的值",min:"请输入一个大于或等于{0}的值",max:"请输入一个小于或等于{0}的值",range:"请输入一个介于{0}到{1}之间的数值",equalTo:"请再输入一个相同的值",remote:"远程验证失败"},e.prototype.methods={required:function(e,i){if("select"===i[0].nodeName.toLowerCase()){var n=t.trim(i.val());return n&&n.length>0}return this.checkable(i[0])?this.getLength(e,i[0])>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^(?:[a-z0-9]+[_\-+.]+)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}|\d{4}[\/-]\d{1,2}[\/-]\d{1,2}\s\d{1,2}[:]\d{1,2}[:]\d{1,2}\w$/.test(t)},mobile:function(t,e){return this.optional(e)||/^((13[0-9])|(15[^4,\\D])|(18[0,5-9]))\d{8}$/.test(t)},phone:function(t,e){return this.optional(e)||/^((0\d{2,3}\-)[1-9]\d{7}(\-\d{1,4})?)$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minLength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(t.trim(e),i[0]);return this.optional(i)||o>=n},maxLength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(t.trim(e),i[0]);return this.optional(i)||n>=o},rangeLength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(t.trim(e),i[0]);return this.optional(i)||o>=n[0]&&o<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var i=t(n);return e===this.elementValue(i)},remote:function(e,i,n){var o,s={},r=this,a=this.previousValue(i[0]);return a.old===e?a.valid:(a.old=e,"string"==typeof n?o=n:(o=n.url,s=n.data),s[i[0].name]=e,s.rnd=Math.random(),t.post(o,s).success(function(t){var e=t===!0||"true"===t;e?r.hideError(i):r.showError(i,a.message),a.valid=e}).error(function(){return!1}),!0)}},e.prototype.previousValue=function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},e.prototype.optional=function(t){var e=this.elementValue(t);return!this.methods.required.call(this,e,t)},e.prototype.elementValue=function(e){var i=e.attr("type"),n=e.val();return"radio"===i||"checkbox"===i?t("input[name='"+e.attr("name")+"']:checked").val():"string"==typeof n?n.replace(/\r/g,""):n},e.prototype.getLength=function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.$form.find("[name='"+i.name+"']").filter(":checked").length}return e.length},e}),define("kotenei/validate_tooltips",["jquery","kotenei/validate","kotenei/tooltips"],function(t,e,i){return e.prototype.getTipsPlacement=function(t){var e=t.name,i="right";return this.tipsPlacement||(this.tipsPlacement=this.options.tipsPlacement||{}),this.tipsPlacement[e]?i=this.tipsPlacement[e]:this.tipsPlacement[e]=i,i},e.prototype.showError=function(t,e){this.checkable(t[0])&&(t=this.validFields.data[t[0].name]);var n=this.getTipsPlacement(t[0]),o=i.Get(t);o?o.setContent(e):(o=new i(t,{content:e,tipClass:"danger",trigger:"manual",placement:n}),i.Set(t,o)),o.show(),t.addClass(this.options.errorClass)},e.prototype.hideError=function(t){this.checkable(t[0])&&(t=this.validFields.data[t[0].name]);var e=i.Get(t);e&&e.hide(),t.removeClass(this.options.errorClass)},e}),define("kotenei/window",["jquery","kotenei/dragdrop","kotenei/popTips"],function(t){var e=function(e){this.options=t.extend({},{url:null,params:null,title:"弹出框",content:null,width:"600",height:null,backdrop:!0,backdropClose:!1},e),this._event={open:t.noop,ok:t.noop,close:t.noop},this.loading=!1,this.template='<div class="window"><h4 class="window-header"><span class="window-title"></span><span class="window-close">×</span></h4><div class="window-container"></div><div class="window-footer"><button type="button" class="btn btn-primary window-ok">确定</button><button type="button" class="btn btn-default window-cancel">取消</button></div></div>',this.backdrop='<div class="window-backdrop"></div>',this.$document=t(document),this.$window=t(window),this.init()};e.prototype.init=function(){this.build(),this.setTitle(this.options.title),null!==this.options.content&&this.setContent(this.options.content),this.eventBind()},e.prototype.eventBind=function(){var t=this;this.$window.on("resize.window",function(){t.layout()}),this.$backdrop.on("click",function(){t.options.backdropClose&&t.close()}),this.$win.on("click",".window-cancel,.window-close",function(){t.close()}).on("click",".window-ok",function(){t._event.ok.call(t)!==!1&&t.hide()})},e.prototype.on=function(e,i){this._event.hasOwnProperty(e)&&(this._event[e]=i||t.noop)},e.prototype.setTitle=function(t){this.$header.find(".window-title").text(t)},e.prototype.setContent=function(t){t=t||this.options.content,this.$container.html(t)},e.prototype.remote=function(){if("string"==typeof this.options.url&&null==this.options.content){var e=this,i=t.Deferred();return this.loading=!0,this.$container.load(this.options.url+"?rnd="+Math.random(),this.options.params,function(){e.loading=!1,i.resolve()}),i.promise()}},e.prototype.open=function(){var e=this;t.when(this.remote()).done(function(){e.$win.show(),e.options.backdrop&&e.$backdrop.show(),e.layout(),e._event.open(e.$win);var t=i.get();e.$win.css("zIndex",t),e.$backdrop.css("zIndex",--t)})},e.prototype.close=function(t){return t?void this.hide():void(this._event.close()!==!1&&this.hide())},e.prototype.hide=function(){this.$win.hide(),this.$backdrop.hide(),i.pop()},e.prototype.layout=function(){var t,e,i=this.$window.height(),n=i-100,o=this.$header.height(),s=this.$footer.height(),r=n-o-s;this.options.height?n<this.options.height?(t=n,e=r):(t=this.options.height,e=t-o-s):(this.orgHeight=this.orgHeight||this.$win.height(),n<this.orgHeight?(t=n,e=r):(t=this.orgHeight,e=this.orgHeight-o-s)),this.$container.css("height",e),this.$win.css({height:t,marginLeft:-this.$win.width()/2,marginTop:-t/2})},e.prototype.build=function(){this.$win=t(this.template).css({width:this.options.width,height:this.options.height}),this.$backdrop=t(this.backdrop),this.$header=this.$win.find(".window-header"),this.$container=this.$win.find(".window-container"),this.$footer=this.$win.find(".window-footer"),this.$win.appendTo(document.body),this.$backdrop.appendTo(document.body)},e.alert=function(i,n,o){t.isFunction(n)&&(o=n,n=i,i="提示");var s=new e({width:400,backdropClose:!1});s.setTitle(i),s.setContent(n),s.on("ok",o||t.noop),s.open()},e.confirm=function(i,n,o,s){t.isFunction(n)&&(s=o,o=n,n=i,i="确认提示");var r=new e({width:400,backdropClose:!1});r.setTitle(i),r.setContent(n),r.on("ok",o||t.noop),r.on("close",s||t.noop),r.open()};var i=function(){var t=[];return{get:function(){var e;return 0===t.length?(e=1e3,t.push(e)):(e=t[t.length-1],e+=2,t.push(e)),e},pop:function(){0!==t.length&&t.pop()}}}();return e}),define("kotenei/wordLimit",["jquery"],function(t){var e=function(e,i){this.$element=e,this.options=t.extend({},{maxLength:140,feedback:".chars"},i),this.init()};return e.prototype.init=function(){var e=this;this.maxLength=parseInt(this.$element.attr("maxLength")||this.options.maxLength),this.$feedback=t(this.options.feedback),this.$element.on("keyup",function(){var i=t.trim(t(this).val());e.update(i)}),this.update(t.trim(this.$element.val()))},e.prototype.update=function(t){var e=t.length,i=this.maxLength,n=i-e;e>=i&&this.$element.val(t.substring(0,i)),this.$feedback.html(0>n?0:n)},e.Global=function(i){i=i||t("input,textarea").filter('[data-module="wordlimit"]'),i.each(function(){var i=t(this),n=i.attr("maxLength"),o=e.Get(i);n&&(o||(o=new e(i,{maxLength:n,feedback:i.attr("data-feedback")}),e.Set(i,o)))})},e.Get=function(t){return t.data("wordLimit")},e.Set=function(t,e){t.data("wordLimit",e)},e}),define("kotenei",["kotenei/dragdrop","kotenei/dropdown","kotenei/lazyload","kotenei/pager","kotenei/placeholder","kotenei/popTips","kotenei/router","kotenei/slider","kotenei/switch","kotenei/tooltips","kotenei/validate","kotenei/validate_tooltips","kotenei/window","kotenei/wordLimit"],function(t,e,i,n,o,s,r,a,h,l,p,d,c,u){return{Dragdrop:t,Dropdown:e,lazyload:i,Pager:n,placeholder:o,popTips:s,Router:r,Slider:a,Switch:h,Tooltips:l,Validate:p,Validate_tooltips:d,Window:c,WordLimit:u}});